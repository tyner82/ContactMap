<?xml version="1.0" encoding="UTF-8"?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:data="clr-namespace:ContactMap3.Data"
             xmlns:viewmodel="clr-namespace:ContactMap3.ViewModels"
             x:Class="ContactMap3.Views.ContactsPage"
             Title="Contacts">
    
        <ContentPage.ToolbarItems>
            <ToolbarItem Text="+"
                         Order="Primary"
                         Priority="0"
                         Command="{Binding AddContactCommand}" />
        </ContentPage.ToolbarItems>
    <ContentPage.Content>
        <RefreshView IsRefreshing="{Binding IsBusy, Mode=OneWay}" Command="{Binding UpdateContactsCommand}">
            <CollectionView Margin="20"
                            x:DataType="viewmodel:ContactsViewModel"
                            ItemsSource="{Binding Contacts}"
                            ItemTemplate="{StaticResource ContactTemplate}"
                            SelectionMode="Single"
                            SelectedItem="{Binding SelectedItem, Mode=TwoWay}"
                            SelectionChangedCommand="{Binding SelectionCommand}" />
        </RefreshView>
    </ContentPage.Content>


</ContentPage>
